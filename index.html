<!doctype html>



  


<html class="theme-next muse use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://henson.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hexo">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: 'Author'
    }
  };
</script>




  <link rel="canonical" href="http://henson.com/"/>

  <title> Hexo </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Hexo</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Startseite
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archiv
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/09/22/分类器评价指标/" itemprop="url">
                  分类器评价指标
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Veröffentlicht am</span>
            <time itemprop="dateCreated" datetime="2016-09-22T22:10:55+08:00" content="2016-09-22">
              2016-09-22
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h3><ul>
<li>正例：假设有P个类别为1的样本，称为正例。</li>
<li>反例：假设有N个类别为0的样本，称为反例。</li>
<li><code>TP</code>表示正例被判定为正例的样本个数，<code>FP</code>表示反例被判定为正例的样本个数</li>
<li><code>TN</code>表示反例被判定为反例的样本个数，<code>FN</code>表示正例被判定为反例的样本个数</li>
</ul>
<h3 id="评价指标"><a href="#评价指标" class="headerlink" title="评价指标"></a>评价指标</h3><ol>
<li><p>精确度 (Precision)：</p>
<p> <code>TP/(TP + FP)</code>，表示被分类器判定的正例中真正的正例所占的比重。</p>
</li>
<li><p>准确率 (Accuracy)</p>
<p> <code>(TP + TN)/(T + P)</code>，表示分类器对整个样本的判定能力。</p>
</li>
<li><p>召回率 (Recall)</p>
<p> <code>TP/(TP + FN)</code>，表示真正的正例中，被分类器正确判断出来的所占的比重。</p>
</li>
<li><p>F1值</p>
<p> <code>2*(准确率 * 召回率)/(准确率 + 召回率)</code></p>
</li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/09/22/Java Collections/" itemprop="url">
                  Java Collections
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Veröffentlicht am</span>
            <time itemprop="dateCreated" datetime="2016-09-22T17:41:00+08:00" content="2016-09-22">
              2016-09-22
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="List"><a href="#List" class="headerlink" title="List"></a>List</h3><ol>
<li><p>ArrayList</p>
<ul>
<li>permit <code>null</code>.</li>
<li><p>not synchronized.</p>
<p>  <code>List list = Collections.synchronizedList(new ArrayList(...))</code></p>
</li>
<li><p>an application can increase the capacity of an ArrayList instance before adding a large number of elements using the <code>ensureCapacity</code> operation.</p>
<p>  <code>ensureCapacity(int minCapacity)</code></p>
</li>
</ul>
</li>
<li><p>Vector</p>
<ul>
<li>synchronized.</li>
</ul>
</li>
<li><p>Stack</p>
<ul>
<li>extends class <code>Vector</code>.</li>
<li>a more complete and consistent set of LIFO stack operations is provided by the <code>Deque</code> interface and its implementations.</li>
</ul>
</li>
<li><p>LinkedList</p>
<p> see also <code>Queue</code>.</p>
</li>
</ol>
<h3 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h3><ol>
<li><p>Hashtable</p>
<ul>
<li>the keys must implement the hashCode method and the equals method.</li>
<li>only <strong>non-null</strong> object can be used as a key or as a value.</li>
<li><p>synchronized.</p>
<p>  <code>Hashtable(int initialCapacity, float loadFactor=.75)</code></p>
</li>
</ul>
</li>
<li><p>HashMap</p>
<ul>
<li>permits <code>null</code> values and the <code>null</code> key.</li>
<li><p>not synchronized.</p>
<p>  <code>Map m = Collections.synchronizedMap(new HashMap(...))</code></p>
</li>
</ul>
</li>
<li><p>LinkedHashMap</p>
<ul>
<li>permits <code>null</code> values and the <code>null</code> key.</li>
<li><p>maintains a <strong>doubly-linked list</strong> running through all of its entries which defines the iteration ordering (<strong>insertion-order</strong> or <strong>access order</strong> which its entries were last accessed, from least-recently accessed to most-recently. This is well-suited to building LRU caches).</p>
<p>  <code>LinkedHashMap(int initialCapacity, float loadFactor, boolean accessOrder)</code></p>
</li>
<li><p>the <code>removeEldestEntry(Map.Entry)</code> method may be overridden to impose a policy for removing stale mappings automatically when new mappings are added to the map.</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">private static final int MAX_ENTRIES = 100;</div><div class="line">protected boolean removeEldestEntry(Map.Entry eldest) &#123;</div><div class="line">    return size() &gt; MAX_ENTRIES;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>not synchronized.</p>
</li>
</ul>
</li>
<li><p>TreeMap</p>
<ul>
<li>the implementation based on <strong>Red-Black tree</strong>.</li>
<li>permits <code>null</code> values.</li>
<li>sorted according to the <strong>natural ordering</strong> of its keys, or by a <code>Comparator</code> provided at map creation time.</li>
<li>the ordering maintained by a sorted map must be consistent with <code>equals</code> if this sorted map is to correctly implement the Map interface.</li>
<li><p>not synchronized.</p>
<p>  <code>SortedMap m = Collections.synchronizedSortedMap(new TreeMap(...))</code></p>
</li>
</ul>
</li>
<li><p>ConcurrentHashMap</p>
</li>
</ol>
<h3 id="Queue"><a href="#Queue" class="headerlink" title="Queue"></a>Queue</h3><ol>
<li><p>Queue</p>
<ul>
<li>each of these methods exists in two forms: one <strong>throws an exception</strong> if the operation fails, the other <strong>returns a special value</strong> (<code>null</code> or <code>false</code>).</li>
<li>Queue implementations generally do not allow insertion of <code>null</code> elements, although some implementations, such as <strong>LinkedList</strong>, but it should not be inserted into a Queue, as null is also used as a special return value by the <code>poll</code> method to indicate that the queue contains no elements.</li>
</ul>
</li>
</ol>
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">Throws exception</th>
<th style="text-align:center">Returns special value</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Insert</td>
<td style="text-align:center">add(e)</td>
<td style="text-align:center">offer(e)</td>
</tr>
<tr>
<td style="text-align:center">Remove</td>
<td style="text-align:center">remove()</td>
<td style="text-align:center">poll()</td>
</tr>
<tr>
<td style="text-align:center">Examine</td>
<td style="text-align:center">element()</td>
<td style="text-align:center">peek()</td>
</tr>
</tbody>
</table>
<ol>
<li><p>PriorityQueue</p>
<ul>
<li><p>based on a priority <strong>heap</strong>. Ordered according to their natural ordering, or by a <code>Comparator</code> provided at queue construction time.</p>
<p>  <code>public PriorityQueue(Comparator&lt;? super E&gt; comparator)</code></p>
</li>
<li>not synchronized.</li>
</ul>
</li>
<li><p>Deque</p>
</li>
</ol>
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">Head</th>
<th style="text-align:center"></th>
<th style="text-align:center">Tail</th>
<th style="text-align:center"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">Throws exception</td>
<td style="text-align:center">Returns special value</td>
<td style="text-align:center">Throws exception</td>
<td style="text-align:center">Returns special value</td>
</tr>
<tr>
<td style="text-align:center">Insert</td>
<td style="text-align:center">addFirst(e)</td>
<td style="text-align:center">offerFirst(e)</td>
<td style="text-align:center">addLast(e)</td>
<td style="text-align:center">offerLast(e)</td>
</tr>
<tr>
<td style="text-align:center">Remove</td>
<td style="text-align:center">removeFirst()</td>
<td style="text-align:center">pollFirst()</td>
<td style="text-align:center">removeLast()</td>
<td style="text-align:center">pollLast()</td>
</tr>
<tr>
<td style="text-align:center">Examine</td>
<td style="text-align:center">getFirst()</td>
<td style="text-align:center">peekFirst()</td>
<td style="text-align:center">getLast()</td>
<td style="text-align:center">peekLast()</td>
</tr>
</tbody>
</table>
<pre><code>* each of these methods exists in two forms: one **throws an exception** if the operation fails, the other **returns a special value** (`null` or `false`).
* this interface provides two methods to remove interior elements, `removeFirstOccurrence` and `removeLastOccurrence`.
</code></pre><ol>
<li><p>ArrayDeque</p>
<ul>
<li><strong>resizable-array</strong> implementation of the <code>Deque</code> interface.</li>
<li><code>null</code> elements are prohibited.</li>
<li>not thread-safe.</li>
<li>faster than <code>Stack</code> when used as a stack, and faster than <code>LinkedList</code> when used as a queue.</li>
</ul>
</li>
<li><p>LinkedList</p>
<ul>
<li>doubly-linked list implementation of the <code>List</code> and <code>Deque</code> interfaces.</li>
<li>permits all elements (including <code>null</code>).</li>
<li><p>not synchronized.</p>
<p>  <code>List list = Collections.synchronizedList(new LinkedList(...))</code></p>
</li>
</ul>
</li>
<li><p>BlockingQueue</p>
<ul>
<li>the third method <strong>blocks the current thread</strong> indefinitely until the operation can succeed, and the fourth blocks for only a given maximum time limit before giving up.</li>
<li>does not accept <code>null</code> elements.</li>
<li>thread-safe.</li>
<li><p>designed to be used primarily for producer-consumer queues. </p>
<pre><code>|Throws exception|Returns special value|Blocks        |Times out
</code></pre><p>——-|—————-|———————|————–|——————–<br>Insert |add(e)          |offer(e)             |put(e)        |offer(e, time, unit)<br>Remove |remove()        |poll()               |take()        |poll(time, unit)<br>Examine|element()       |peek()               |not applicable|not applicable      </p>
<p>|       |Throws exception|Returns special value|Blocks        |Times out           |<br>|:—–:|:————–:|:——————-:|:————:|:——————:|<br>|Insert |add(e)          |offer(e)             |put(e)        |offer(e, time, unit)|<br>|Remove |remove()        |poll()               |take()        |poll(time, unit)    |<br>|Examine|element()       |peek()               |not applicable|not applicable      |</p>
</li>
</ul>
</li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/09/22/Java IO/" itemprop="url">
                  Java IO
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Veröffentlicht am</span>
            <time itemprop="dateCreated" datetime="2016-09-22T17:41:00+08:00" content="2016-09-22">
              2016-09-22
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="基本IO"><a href="#基本IO" class="headerlink" title="基本IO"></a>基本IO</h2><ol>
<li><p>流指<strong>不确定长度的有序bytes</strong>。输入流将数据从外部源输入到java程序，输出流则相反。</p>
</li>
<li><p>java中字面量默认为<code>int</code>类型，并且<code>byte</code>、<code>char</code>、<code>int</code>任意两个类型相加的结果都为int类型。</p>
<p> 不能将<code>int</code>类型的变量直接赋值给<code>byte</code>或<code>char</code>类型。但是<code>byte b = 42</code>是可以的，因为字面量是编译期常量，编译器会自动做类型转换。</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">byte b1 = 32; </div><div class="line">byte b2 = 33;</div><div class="line">byte b3 = b1 + b2;  // 结果是int类型变量，编译器会报错</div></pre></td></tr></table></figure>
</li>
<li><p>unicode是字符集 (2 bytes)，而不是字符的编码方式。</p>
<ul>
<li>代码点：可用于编码字符集的数字。</li>
<li><p>代码单元：字符编码的基本单元，如UTF-16是2 bytes。</p>
<p>char存放的是字符的<strong>unicode代码点</strong>。</p>
</li>
</ul>
</li>
<li><p>EOF字符在mac或unix平台下用<code>ctrl-D</code>表示，而在windows平台下用<code>ctrl-Z</code>表示。有时需要在单独的一行中输入这个字符。</p>
</li>
<li><p>几乎所有IO方法都会抛出IOException，但是<code>PrintStream</code>和<code>PrintWriter</code>类的方法除外，因为每次调用System.out.println()都用try/catch块包含会很不方便。</p>
</li>
<li><p>System.in是<code>InputStream</code>的实例，System.out是<code>PrintStream</code>的实例。</p>
</li>
<li><p>在shell中重定向：<code>java OptimumBattingOrder &lt; yankees06.tab &gt; yankees06.out</code></p>
<p> 在程序内重定向：</p>
<ul>
<li><code>System.setIn(InputStream in)</code></li>
<li><code>System.setOut(PrintStream out)</code></li>
<li><code>System.setErr(PrintStream err)</code></li>
</ul>
</li>
<li><p><code>System.getProperty(&quot;user.dir&quot;)</code>可以获得当前的工作目录。</p>
<p><code>System.getProperty(&quot;line.separator&quot;)</code>可以获得系统的行分隔符。</p>
<ul>
<li>unix是<code>\n</code></li>
<li>mac是<code>\r</code></li>
<li>windows是<code>\r\n</code></li>
</ul>
<p><code>System.getProperty(&quot;file.encoding&quot;)</code>可以获得系统默认的编码方式。</p>
</li>
</ol>
<h2 id="字节流"><a href="#字节流" class="headerlink" title="字节流"></a>字节流</h2><h3 id="OutputStream"><a href="#OutputStream" class="headerlink" title="OutputStream"></a>OutputStream</h3><ol>
<li><p>OutputStream是一个抽象类，需要实现<code>void write(int b)</code>方法。它将一个表示<code>0</code>到<code>255</code>的字节写入到输出流。</p>
<p> <code>void write(byte[] data)</code>将几个字节的数据写入到输出流。</p>
</li>
<li><p>并非所有的流都需要被<code>close</code>，如ByteArrayOutputStream。但是文件和网络连接相关的流一定要关闭。</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">finally &#123;</div><div class="line">    if (out != null) &#123;</div><div class="line">        try &#123;</div><div class="line">            out.close();</div><div class="line">        &#125;</div><div class="line">        catch(IOException ex) &#123;</div><div class="line">            System.err.println(ex);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>很多输出流为了提高性能会先将数据写入buffer (与操作系统或硬件的buffer无关)，调用<code>flush()</code>可以强制将数据输出。</p>
</li>
</ol>
<h3 id="InputStream"><a href="#InputStream" class="headerlink" title="InputStream"></a>InputStream</h3><ol>
<li><p>InputStream是一个抽象类，需要实现<code>int read()</code>方法。它读入一个字节的数据，返回一个<code>0</code>到<code>255</code>的整数。</p>
<p> <code>int read(byte[] data)</code>将数据读入到一个byte数组里，返回读入的字节数或用<code>-1</code>表示到达流的末尾。</p>
</li>
<li><p><code>int available()</code>方法获取被阻塞之前还可以读取的字节数。这个方法需要重写，否则永远返回0。</p>
</li>
<li><p><code>long skip(long byteToSkip)</code>方法可以跳过输入流的指定字节数，返回实际跳过的自己数或用<code>-1</code>表示到达流的末尾。</p>
</li>
<li><p>并非所有的流都需要被<code>close</code>，如System.in。但是文件和网络连接相关的流一定要关闭。</p>
</li>
<li><p><code>void mark(int readLimit)</code>方法可以在流的当前位置做标记，该标记可以持续到读取readLimit个字节以后仍然有效。</p>
<p> <code>void reset()</code>方法可以使流返回到该标记。</p>
<p> <code>boolean markSupported()</code>用来判断流是否支持标记。<code>BufferedInputStream</code>和<code>ByteArrayInputStream</code>是两个永远支持标记的输入流。</p>
</li>
</ol>
<h3 id="BufferedOutputStream和BufferedInputStream"><a href="#BufferedOutputStream和BufferedInputStream" class="headerlink" title="BufferedOutputStream和BufferedInputStream"></a>BufferedOutputStream和BufferedInputStream</h3><ol>
<li><p><code>BufferedInputStream</code>一次读取多个字节放入缓冲区中，那么调用read()方法的时候就可以从这个缓冲区中读取数据而不用进行系统调用了。</p>
</li>
<li><p><code>BufferedOutputStream</code>与此类似，它重写了OutputStream中的<code>flush()</code>方法 (父类的这个方法什么都没做)。</p>
</li>
</ol>
<h3 id="DataOutputStream和DataInputStream"><a href="#DataOutputStream和DataInputStream" class="headerlink" title="DataOutputStream和DataInputStream"></a>DataOutputStream和DataInputStream</h3><ol>
<li><p>提供对字符串、整形、浮点数或其他表示在bytes之上的高层数据进行读写的方法。</p>
</li>
<li><p><code>final String readLine()</code>用于读入一行 (以回车、换行、回车/换行对结尾的字符串)，但返回的结果不包括这些行分隔符。</p>
<p> 这个方法在处理非Latin-1字符集时不能正确的将字节转换成字符，因此推荐使用<strong>BufferedReader</strong>的readLine()方法。</p>
</li>
</ol>
<h3 id="FileOutputStream和FileInputStream"><a href="#FileOutputStream和FileInputStream" class="headerlink" title="FileOutputStream和FileInputStream"></a>FileOutputStream和FileInputStream</h3><p>提供对文件进行读写的方法。</p>
<h3 id="PrintStream"><a href="#PrintStream" class="headerlink" title="PrintStream"></a>PrintStream</h3><ol>
<li><p><code>PrintStream(OutputStream out, boolean autoFlush, String encoding)</code></p>
<ul>
<li><p>autoFlush为true时 (默认)，当缓冲区满、调用<code>println()</code>方法或遇到<code>\n</code>字符后会自动调用<code>flush()</code>方法 (PrintStream本身没有缓冲区)。</p>
</li>
<li><p>encoding指定编码方式。</p>
</li>
</ul>
</li>
<li><p><code>print(char c)</code>和<code>println(char c)</code>方法会将数据<strong>编码后</strong>再写入底层的输出流，而<code>write(int b)</code>方法写入的就是给定的byte。</p>
</li>
<li><p><code>printf(String format, Object... args)</code>方法提供了格式化输出。</p>
<p> <code>format(String format, Object... args)</code>方法与此类似，但该方法还可以用在<code>Formatter</code>类上。</p>
</li>
</ol>
<h2 id="字符流"><a href="#字符流" class="headerlink" title="字符流"></a>字符流</h2><h3 id="Writer"><a href="#Writer" class="headerlink" title="Writer"></a>Writer</h3><ol>
<li><p>Writer是一个抽象类，需要实现<code>void write(char[] text, int offset, int length)</code>方法。它根据指定的编码方式<strong>将字符编码为字节</strong>，写入到底层的输出流。</p>
</li>
<li><p><code>append</code>方法与对应的write方法的区别就在于它返回当前Writer，从而允许方法的链式调用。</p>
</li>
</ol>
<h3 id="Reader"><a href="#Reader" class="headerlink" title="Reader"></a>Reader</h3><ol>
<li><p>Reader是一个抽象类，需要实现<code>int read(char[] text, int offset, int length)</code>方法。它从底层的输入流读入数据，根据指定的编码方式<strong>将字节解码为字符</strong>。</p>
</li>
<li><p><code>boolean ready()</code>方法在底层输入流有有效数据时返回true。Reader没有<code>available()</code>方法。</p>
</li>
</ol>
<h3 id="OutputStreamWriter和InputStreamReader"><a href="#OutputStreamWriter和InputStreamReader" class="headerlink" title="OutputStreamWriter和InputStreamReader"></a>OutputStreamWriter和InputStreamReader</h3><p><code>OutputStreamWriter</code>和<code>InputStreamReader</code>负责字符和字节之间的转换。</p>
<ol>
<li><p>OutputStreamWriter有两个构造函数：</p>
<ul>
<li><p><code>OutputStreamWriter(OutputStream out)</code>，使用系统默认的编码方式。</p>
</li>
<li><p><code>OutputStreamWriter(OutputStream out, String encoding)</code></p>
</li>
</ul>
</li>
<li><p><code>String getEncoding()</code>方法返回该writer使用的编码方式。</p>
</li>
<li><p>InputStreamReader与OutputStreamWriter类似。</p>
</li>
</ol>
<h3 id="StringWriter和StringReader"><a href="#StringWriter和StringReader" class="headerlink" title="StringWriter和StringReader"></a>StringWriter和StringReader</h3><ol>
<li><p>内部使用StringBuffer。</p>
</li>
<li><p>String和char[]都是由<strong>unicode字符</strong> (2 bytes，用一个int就可以表示)组成的。</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">String s = &quot;简体中文&quot;;</div><div class="line">StringReader sr = new StringReader(s);</div><div class="line">try &#123;</div><div class="line">       int c;</div><div class="line">       while ((c = sr.read()) != -1) &#123;</div><div class="line">           System.out.println((char) c);</div><div class="line">       &#125;</div><div class="line">    &#125;</div><div class="line">    catch(IOException ex) &#123;&#125;</div></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="FileWriter和FileReader"><a href="#FileWriter和FileReader" class="headerlink" title="FileWriter和FileReader"></a>FileWriter和FileReader</h3><ol>
<li><p>FileWriter和FileReader总是使用系统默认的编码方式。因此需要将它们链接到OutputStreamWriter或InputStreamReader上。</p>
<p> <code>OutputStreamWriter out = new OutputStreamWriter(new FileWriter())</code></p>
</li>
<li><p>FileWriter有四种构造函数，其中<code>FileWriter(String filename, boolean append)</code>的第二个参数为true的话，表示将新的文本追加到文件末尾而非覆盖。</p>
</li>
</ol>
<h3 id="BufferedWriter和BufferedReader"><a href="#BufferedWriter和BufferedReader" class="headerlink" title="BufferedWriter和BufferedReader"></a>BufferedWriter和BufferedReader</h3><ol>
<li><p>BufferedWriter的<code>String newLine()</code>会写入一个系统相关的行分隔符。</p>
<p> 不要在网络编程的代码中调用这个方法，因为大多数网络协议都指定<code>\r\n</code>作为行分隔符。</p>
</li>
<li><p>BufferedReader的<code>String readLine()</code>用于读入一行，但不包括行分隔符。</p>
</li>
</ol>
<h3 id="PrintWriter"><a href="#PrintWriter" class="headerlink" title="PrintWriter"></a>PrintWriter</h3><ol>
<li><p>PrintWriter与PrintStream类似，主要的区别在于它能正确的处理非Latin-1字符集 (目前没有遇到问题)。</p>
</li>
<li><p>PrintWriter<strong>有缓冲区</strong>。</p>
</li>
<li><p>遇到<code>\n</code>时不会自动刷新了。</p>
</li>
</ol>
<h2 id="文件IO"><a href="#文件IO" class="headerlink" title="文件IO"></a>文件IO</h2><p><code>FileInputStream</code>、<code>FileOutputStream</code></p>
<h3 id="File类"><a href="#File类" class="headerlink" title="File类"></a>File类</h3><ol>
<li><p>File类表示的是文件系统上的一个文件名，而<strong>不是一个实际的文件</strong>，因此不能保证这个文件真实存在。</p>
</li>
<li><p>File类有三种构造函数：</p>
<ul>
<li><code>File(String path)</code></li>
<li><code>File(String directory, String filename)</code></li>
<li><code>File(File directory, String filename)</code></li>
</ul>
</li>
<li><p><code>static File[] listRoots()</code>方法可以返回文件系统的roots。</p>
</li>
<li><p>有些操作涉及到java security manager的安全问题，有可能抛出<code>SecurityException</code>异常。</p>
</li>
<li><p>大部分文件的信息都可以通过<code>path</code>域获得而不需要访问文件系统，因此大部分方法不会抛出<code>IOException</code>异常。</p>
<ul>
<li><p>存在性、文件、目录：</p>
<p>  <code>boolean exists()</code>方法判断文件是否存在。</p>
<p>  <code>boolean isFile()</code>方法在文件存在且不是目录的时候返回<code>true</code>。</p>
<p>  <code>boolean isDirctory()</code>方法在文件存在且是目录的时候返回<code>true</code>。该方法将unix的<code>软链接</code>和mac的<code>aliase</code>视为它们所指向的目录本身，但不把windows的<code>快捷方式</code>视为目录。</p>
</li>
<li><p>文件名和路径：</p>
<p>  <code>String getName()</code>方法返回文件名。</p>
<p>  <code>String getPath()</code>方法只是简单的返回<code>path</code>域。</p>
<p>  <code>boolean isAbsolute()</code>方法可以判断<code>path</code>域中包含的是绝对路径还是相对路径。</p>
<p>  <code>String getAbsolutePath()</code>方法返回绝对路径。</p>
<p>  <code>String getCanonicalPath()</code>方法返回真实的绝对路径 (即去掉<code>..</code>或返回<code>软链接</code>的实际路径)。</p>
</li>
<li><p>Parent：</p>
<p>  <code>String getParent()</code>方法返回<code>path</code>域中最后一个分隔符 (<code>File.separatorChar</code>)之前的部分，为空则返回<code>null</code>。</p>
<p>  <code>File getParentFile()</code>方法与此类似，只不过返回的是一个File类。</p>
</li>
<li><p>文件属性：</p>
<p>  <code>boolean canRead()</code>、<code>boolean canWrite()</code>、<code>boolean canExecute()</code></p>
<p>  <code>boolean isHidden()</code>、<code>long lastModified()</code>、<code>long length()</code></p>
</li>
</ul>
</li>
<li><p>文件操作。</p>
<ul>
<li><p>创建：</p>
<p>  <code>boolean createNewFile()</code>方法试图创建该文件，如果文件存在或无法创建则返回<code>false</code>。</p>
</li>
<li><p>重命名或移动：</p>
<p>  <code>boolean renameTo()</code>方法可以重命名或移动一个文件，区别就在于源和目标是否在一个文件夹。如果目标文件存在，则<strong>覆盖</strong>目标文件或因操作失败而返回<code>false</code>。</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">File src = new File(&quot;src.txt&quot;);</div><div class="line">File des = new File(&quot;des.txt&quot;);</div><div class="line">src.renameTo(des);</div></pre></td></tr></table></figure>
<p>  <strong>没有copy方法。</strong></p>
</li>
<li><p>删除：</p>
<p>  <code>boolean delete()</code>，如果文件存在则删除该文件并返回<code>true</code>。</p>
</li>
<li><p>改变文件属性：</p>
<p>  <code>setReadOnly()</code>、<code>setLastModified(long time)</code></p>
<p>  <code>setReadable(boolean)</code>、<code>setWritable(boolean)</code>、<code>setExecutable(boolean)</code></p>
<p>  java没有unix中group的概念。</p>
</li>
<li><p>临时文件：</p>
<p>  <code>static File createTempFile(String prefix, String suffix[, File directory])</code>方法可以创建一个以prefix为前缀、suffix为后缀的临时文件。</p>
<p>  如果suffix为null，则会使用<code>.tmp</code>为后缀。</p>
<p>  默认的临时文件夹路径保存在<code>java.io.tmpdir</code>属性中。</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">File cwd = new File(System.getProperty(&quot;user.dir&quot;));</div><div class="line">File temp = File.createTempFile(&quot;rus&quot;, &quot;.tmp&quot;, cwd);</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>文件夹操作</p>
<ul>
<li><code>delete()</code>方法只能用于空文件夹，否则返回<code>false</code>。</li>
<li><code>renameTo()</code>方法只能用于重命名文件夹，否则返回<code>false</code>。</li>
<li><p>创建：</p>
<p>  <code>boolean mkdir()</code>，该方法不能用来级联创建文件夹 (应该使用<code>boolean mkdirs()</code>)，如果文件夹存在则返回<code>false</code>。</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">File f = new File(&quot;tmp/&quot;);  // 最后的斜杠只是用于区分文件和文件夹</div><div class="line">f.mkdir();</div></pre></td></tr></table></figure>
</li>
<li><p>列表：</p>
<p>  <code>String[] list(FilenameFilter filter)</code></p>
<p>  <code>File[] listFiles(FilenameFilter filter)</code></p>
</li>
</ul>
</li>
<li><p>FilenameFilter是一个接口，需要实现<code>boolean accept(File directory, String name)</code>方法。</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">public class HTMLFilter implements FilenameFilter &#123;</div><div class="line">    public boolean accept(File directory, String name) &#123;</div><div class="line">        if (name.endsWith(&quot;.html&quot;)) return true;</div><div class="line">        if (name.endsWith(&quot;.htm&quot;)) return true;</div><div class="line">        return false;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p> FileFilter接口与此类似，需要实现<code>boolean accept(File pathname)</code>方法。</p>
</li>
<li><p>FileDescriptor类用来表示一个<strong>已打开</strong>的文件或socket。</p>
<p> <code>final FileDescriptor getFD()</code>方法可以返回该文件的文件描述符。</p>
<p> <code>boolean valid()</code>方法可以判断一个文件描述符是否仍然有效。</p>
<p> <code>void sync()</code>方法可以强制将操作系统buffer中的数据写入硬件 (应该先刷新流的buffer)。</p>
</li>
<li><p>RandomAccessFile类实现了<code>DataInput</code>和<code>DataOutput</code>接口，它提供了从文件任意位置读/写 (or both)数据的方法。</p>
<p><code>RandomAccessFile(String filename, String mode)</code></p>
<p><code>RandomAccessFile(File file, String mode)</code></p>
<ul>
<li><code>r</code>模式表示只读访问。</li>
<li><code>rw</code>模式会先将改动缓存起来，而不是立即写入文件。</li>
<li><code>rws</code>模式会将改动立即写入文件。</li>
<li><code>rwd</code>模式只是会将对文件元数据 (name、permission等)缓存起来。</li>
</ul>
<p><code>long getFilePointer()</code>方法获取当前文件指针的位置。</p>
<p><code>void seek(long position)</code>方法将文件指针重定位到指定的绝对位置。</p>
<p><code>int skipBytes(int n)</code>方法试图将文件指针向后移动n个字节，返回实际移动的字节数。</p>
</li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/09/08/On Bottleneck-Aware Arrangement for Event-Based Social Networks/" itemprop="url">
                  On Bottleneck-Aware Arrangement for Event-Based Social Networks
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Veröffentlicht am</span>
            <time itemprop="dateCreated" datetime="2016-09-08T17:29:03+08:00" content="2016-09-08">
              2016-09-08
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h3><p>Most existing EBSNs do not provide an intelligent and global arrangement for social activities and potential users.</p>
<p><a href="http://www.cs.ubc.ca/~keqianli/papers/On_Social_Event_Organization_papers.pdf" target="_blank" rel="external">On Social Event Organization</a> introduces the <strong>social event organization</strong> problem, but it neglects the spatial influence between activities and users.</p>
<p>Therefore, this paper introduced a novel social event arrangement strategy, called <strong>bottleneck-aware social event arrangement(BSEA)</strong>, it not only consider <em>location information</em>, <em>similarity of attributes</em> and <em>social friendship</em>, but also guarantees a balanced satisfactions in different activities in a <em>global optimal perspective</em></p>
<ul>
<li>we assume that each activity/user includes a profile, which consists of a list of attributes.</li>
<li><strong>capacity condition</strong>: each activity includes a capacity.</li>
<li><strong>social friendship constraint</strong>: each user in one activity has at least one friend who is also assigned to the same activity.</li>
</ul>
<h3 id="Problem-Statement"><a href="#Problem-Statement" class="headerlink" title="Problem Statement"></a>Problem Statement</h3><ul>
<li><strong>Utility Function</strong><br>$$\mu(a,u)=\alpha(1-\frac{D(l_a,l_u)}{MaxD})+(1-\alpha)sim(t_a,t_u)$$</li>
<li><strong>Average Utility of An Activity</strong><br>$$Ave_M(a)=\frac{\sum_{u\in U,(a,u)\in M}\mu(a,u)}{|M(a)|}$$</li>
</ul>
<p>BSEA problem is to find an arrangement M among activities and users to \(max\;min_{a_i\in A \land M(a_i)\not =\emptyset}{Ave(a_i)}\)</p>
<h3 id="Solutions-for-BSEA"><a href="#Solutions-for-BSEA" class="headerlink" title="Solutions for BSEA"></a>Solutions for BSEA</h3><ul>
<li><strong>Random:</strong><br>visit each activity in a random order, and visit each user that has not yet been arranged to any activity with probalility \(\frac{\theta}{|U|}\), where\(\theta=\lfloor |U|\,/\,|A|\rfloor\)</li>
<li><strong>Greedy Algorithm:</strong><br>try to arrange a new user to an activity that curently has the lowest average utility value(or the one that will still have the lowest averate utility value even such new arrangement is made if there are multiple activities sharing the same lowest average utility value).</li>
<li><strong>Random+Greedy Algorithm:</strong><br>similar to Random, except that visit each unarranged u in non-ascending order of \(\mu(a_i,u)\).</li>
</ul>
<h3 id="Experimental-Evaluation"><a href="#Experimental-Evaluation" class="headerlink" title="Experimental Evaluation"></a>Experimental Evaluation</h3><p>Evaluate proposed three algorithms interms of <em>Min Ave</em>, <em>running time</em> and <em>memory cost</em> via three parameters: <em>capacity \(\delta\)</em>, <em>the density of graph</em> and <em>balance parameter \(\alpha\)</em></p>
<p><strong>Datasets:</strong> Meetup dataset and synthetic dataset.</p>
<p>Note that Meetup dataset does not contain social information, this paper generate social graphs using the <em>python gragh library</em>.</p>
<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"></script>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="Henson" />
          <p class="site-author-name" itemprop="name">Henson</p>
          <p class="site-description motion-element" itemprop="description"></p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">4</span>
              <span class="site-state-item-name">Artikel</span>
            </a>
          </div>

          

          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Henson</span>
</div>

<div class="powered-by">
  Erstellt mit  <a class="theme-link" href="https://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  



  




  
  

  
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
  </script>

  <script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
      for (i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
      }
    });
  </script>
  <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>


  

  

</body>
</html>
